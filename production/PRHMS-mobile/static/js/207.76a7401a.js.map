{"version":3,"file":"static/js/207.76a7401a.js","mappings":"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","sources":["webpack://h5_web/./src/components/utils/HeaderVue.vue","webpack://h5_web/src/components/utils/HeaderVue.vue","webpack://h5_web/./src/components/utils/HeaderVue.vue?3777","webpack://h5_web/./src/components/utils/HeaderVue.vue?bb6a","webpack://h5_web/./src/views/report/index.vue","webpack://h5_web/./src/components/report/article-item.vue","webpack://h5_web/src/components/report/article-item.vue","webpack://h5_web/./src/components/report/article-item.vue?96c4","webpack://h5_web/./src/components/report/article-item.vue?f5bd","webpack://h5_web/src/views/report/index.vue","webpack://h5_web/./src/views/report/index.vue?79f7","webpack://h5_web/./src/views/report/index.vue?670c","webpack://h5_web/./src/api/report.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('van-nav-bar',{attrs:{\"title\":_vm.title,\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.goBack()}},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_vm._t(\"default\")]},proxy:true}],null,true)})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <van-nav-bar :title=\"title\" left-text=\"返回\" left-arrow @click-left=\"goBack()\">\r\n      <template #right>\r\n        <slot></slot>\r\n      </template>\r\n    </van-nav-bar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: '标题'\r\n    }\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.container {\r\n  height: 60px;\r\n  /deep/.van-nav-bar__content {\r\n    height: 60px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HeaderVue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HeaderVue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeaderVue.vue?vue&type=template&id=b51246ea&scoped=true&\"\nimport script from \"./HeaderVue.vue?vue&type=script&lang=js&\"\nexport * from \"./HeaderVue.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HeaderVue.vue?vue&type=style&index=0&id=b51246ea&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b51246ea\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"header\"},[_c('Header',{attrs:{\"title\":\"公 告 信 息\"}})],1),_c('div',{staticClass:\"main\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item){return _c('article-item',{key:item.id,attrs:{\"item\":item}})}),1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-cell',{staticClass:\"article-item\",on:{\"click\":function($event){return _vm.$router.push(`/detail/${_vm.item.reportId}`)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"head\"},[_c('img',{attrs:{\"src\":_vm.avatar,\"alt\":\"\"}}),_c('div',{staticClass:\"con\"},[_c('p',{staticClass:\"title van-ellipsis\"},[_vm._v(_vm._s(_vm.item.stem))]),_c('p',{staticClass:\"other\"},[_vm._v(_vm._s(_vm.item.name)+\" | \"+_vm._s(_vm.item.time))])])])]},proxy:true},{key:\"label\",fn:function(){return [_c('div',{staticClass:\"body van-multi-ellipsis--l2\"},[_vm._v(\" \"+_vm._s(_vm.clearHtmlTag(_vm.item.content))+\" \")]),_c('div',{staticClass:\"foot\"},[_c('van-icon',{attrs:{\"name\":\"eye-o\"}}),_vm._v(\" 浏览 \"+_vm._s(_vm.item.views))],1)]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 文章区域 -->\r\n  <van-cell\r\n    class=\"article-item\"\r\n    @click=\"$router.push(`/detail/${item.reportId}`)\"\r\n  >\r\n    <template #title>\r\n      <div class=\"head\">\r\n        <img :src=\"avatar\" alt=\"\" />\r\n        <div class=\"con\">\r\n          <p class=\"title van-ellipsis\">{{ item.stem }}</p>\r\n          <p class=\"other\">{{ item.name }} | {{ item.time }}</p>\r\n        </div>\r\n      </div>\r\n    </template>\r\n    <template #label>\r\n      <div class=\"body van-multi-ellipsis--l2\">\r\n        {{ clearHtmlTag(item.content) }}\r\n      </div>\r\n      <div class=\"foot\"><van-icon name=\"eye-o\" /> 浏览 {{ item.views }}</div>\r\n    </template>\r\n  </van-cell>\r\n</template>\r\n\r\n<script>\r\nimport { targetUrl } from \"@/targetUrl\";\r\nexport default {\r\n  props: {\r\n    item: {\r\n      type: Object,\r\n      default: () => {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    clearHtmlTag(str) {\r\n      //   匹配标签结构：/<[^>]+>/g    <p> </p> <div> </div>\r\n      //   将所有的标签标识，替换成 ''\r\n      return str.replace(/<[^>]+>/g, \"\");\r\n    },\r\n  },\r\n  computed: {\r\n    avatar() {\r\n      return `${targetUrl}/view/Avatar/${this.item.avatar}`;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.article-item {\r\n  .head {\r\n    display: flex;\r\n    img {\r\n      width: 40px;\r\n      height: 40px;\r\n      border-radius: 50%;\r\n      overflow: hidden;\r\n    }\r\n    .con {\r\n      flex: 1;\r\n      overflow: hidden;\r\n      padding-left: 10px;\r\n      p {\r\n        margin: 0;\r\n        line-height: 1.5;\r\n        &.title {\r\n          width: 280px;\r\n        }\r\n        &.other {\r\n          font-size: 10px;\r\n          color: #999;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .body {\r\n    font-size: 14px;\r\n    color: #666;\r\n    line-height: 1.6;\r\n    margin-top: 10px;\r\n  }\r\n  .foot {\r\n    font-size: 12px;\r\n    color: #999;\r\n    margin-top: 10px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./article-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./article-item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./article-item.vue?vue&type=template&id=75917ffe&scoped=true&\"\nimport script from \"./article-item.vue?vue&type=script&lang=js&\"\nexport * from \"./article-item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./article-item.vue?vue&type=style&index=0&id=75917ffe&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75917ffe\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container\">\r\n    <div class=\"header\">\r\n      <Header title=\"公 告 信 息\"></Header>\r\n    </div>\r\n    <div class=\"main\">\r\n      <van-list\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        @load=\"onLoad\"\r\n      >\r\n        <article-item\r\n          v-for=\"item in list\"\r\n          :key=\"item.id\"\r\n          :item=\"item\"\r\n        ></article-item>\r\n      </van-list>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport articleItem from \"@/components/report/article-item.vue\";\r\nimport Header from \"@/components/utils/HeaderVue.vue\";\r\nimport { getReportPage } from \"@/api/report\";\r\nexport default {\r\n  components: {\r\n    Header,\r\n    articleItem,\r\n  },\r\n  data() {\r\n    return {\r\n      currentPage: 1, //当前页码\r\n      pageSize: 5, //每页显示的记录数\r\n      list: [],\r\n      loading: false, // 默认非加载状态\r\n      finished: false, // 默认数据未加载完\r\n    };\r\n  },\r\n  methods: {\r\n    // 触发时机(onLoad会被触发多次！):\r\n    // 1. 一进入页面，如果数据没有撑满整个屏幕  list: [] 需要加载更多，触发load事件\r\n    // 2. 当用户往下滑动，触底时，需要加载更多，触发load事件\r\n    async onLoad() {\r\n      //   console.log(\"需要加载更多了, 应该要发送请求了...\");\r\n      try {\r\n        const param = `${this.currentPage}/${this.pageSize}`;\r\n        const { data } = await getReportPage(param, {});\r\n        //   console.log(data);\r\n        // 需要累加数据\r\n        this.list.push(...data.records);\r\n        //   console.log(this.list);\r\n        // 注意：加载完成数据后，需要将loading状态改成false，表示加载已完成\r\n        this.loading = false;\r\n        // 让 当前页 + 1，下一次加载下一页的数据\r\n        this.currentPage++;\r\n        // 如果下一页的页码，已经大于最大页码数，说明数据已经加载完成了, 需要将finished改成true\r\n        if (this.currentPage > data.total) {\r\n          this.finished = true;\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.container {\r\n  .header {\r\n    height: 60px;\r\n  }\r\n  .main {\r\n    .bg {\r\n      margin-bottom: 15px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=118682f8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=118682f8&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"118682f8\",\n  null\n  \n)\n\nexport default component.exports","import { post, get, postFile } from \"@/utils/request\";\r\n\r\n/**\r\n * 获取公告分页信息\r\n * @param {*} param\r\n * @returns\r\n */\r\nexport function getReportPage(param, obj) {\r\n  return get(`getReportPage/${param}`, obj);\r\n}\r\n\r\n/**\r\n * 更新浏览量\r\n * @param {*} param\r\n * @returns\r\n */\r\nexport function updatePreview(param) {\r\n  return get(`updatePreview`, param);\r\n}\r\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","title","on","$event","goBack","scopedSlots","_u","key","fn","_t","proxy","staticRenderFns","props","type","String","default","methods","$router","go","component","finished","onLoad","model","value","loading","callback","$$v","expression","_l","list","item","id","push","reportId","avatar","_v","_s","stem","name","time","clearHtmlTag","content","views","Object","str","replace","computed","targetUrl","components","Header","articleItem","data","currentPage","pageSize","param","getReportPage","records","total","error","console","log","obj","get","updatePreview"],"sourceRoot":""}