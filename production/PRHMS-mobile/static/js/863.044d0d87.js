"use strict";(self["webpackChunkh5_web"]=self["webpackChunkh5_web"]||[]).push([[863],{48:function(t,e,n){n.d(e,{Z:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","left-arrow":""},on:{"click-left":function(e){return t.goBack()}},scopedSlots:t._u([{key:"right",fn:function(){return[t._t("default")]},proxy:!0}],null,!0)})],1)},a=[],s={props:{title:{type:String,default:"标题"}},methods:{goBack(){this.$router.go(-1)}}},i=s,c=n(1001),l=(0,c.Z)(i,r,a,!1,null,"b51246ea",null),u=l.exports},4863:function(t,e,n){n.r(e),n.d(e,{default:function(){return f}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"header"},[e("Header",{attrs:{title:"报修记录"}})],1),e("div",{staticClass:"main"},[e("div",{staticClass:"cell"},[e("van-cell-group",t._l(t.repair,(function(n,r){return e("van-swipe-cell",{key:r,scopedSlots:t._u([{key:"right",fn:function(){return[e("van-button",{attrs:{square:"",type:"info",text:"取消",disabled:"待处理"!==n.state},on:{click:function(e){return t.cancel(n)}}})]},proxy:!0}],null,!0)},[e("van-cell",{attrs:{title:n.report,value:n.state},scopedSlots:t._u([{key:"label",fn:function(){return[e("p",[t._v("描述信息: "+t._s(n.message))]),e("p",[t._v("维修时间: "+t._s(n.fix))])]},proxy:!0}],null,!0)})],1)})),1),e("van-empty",{attrs:{description:"暂无更多报修记录"}})],1)])])},a=[],s=n(1903),i=n(48),c={components:{Header:i.Z},data(){return{repair:{}}},created(){this.getRepair()},methods:{cancel(t){this.$dialog.confirm({title:"取消报修",message:"你确定要取消吗？"}).then((async()=>{try{await(0,s.dB)(t),this.$toast.success("取消成功")}catch(e){console.log(e)}finally{this.getRepair()}}))},async getRepair(){try{const{data:t}=await(0,s.YH)({userId:this.$store.getters.userId});this.repair=t}catch(t){console.log(t)}}}},l=c,u=n(1001),o=(0,u.Z)(l,r,a,!1,null,"0b707b28",null),f=o.exports},1903:function(t,e,n){n.d(e,{YH:function(){return s},dB:function(){return i},u6:function(){return a}});var r=n(6361);function a(t){return(0,r.v_)("insertRepair",t)}function s(t){return(0,r.U2)("getRepairByUserId",t)}function i(t){return(0,r.U2)("deleteRepair",t)}}}]);
//# sourceMappingURL=863.044d0d87.js.map