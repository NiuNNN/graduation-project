"use strict";(self["webpackChunkh5_web"]=self["webpackChunkh5_web"]||[]).push([[231],{48:function(t,e,s){s.d(e,{Z:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","left-arrow":""},on:{"click-left":function(e){return t.goBack()}},scopedSlots:t._u([{key:"right",fn:function(){return[t._t("default")]},proxy:!0}],null,!0)})],1)},l=[],n={props:{title:{type:String,default:"标题"}},methods:{goBack(){this.$router.go(-1)}}},i=n,r=s(1001),o=(0,r.Z)(i,a,l,!1,null,"b51246ea",null),c=o.exports},7231:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"header"},[e("Header",{attrs:{title:"账单详情"}})],1),e("div",{staticClass:"main"},[e("div",{staticClass:"cell"},[e("van-cell",{attrs:{title:"日期",value:t.house.date}}),e("van-cell",{attrs:{title:"房号",value:t.house.houseName}}),e("van-cell",{attrs:{title:"订单编号",value:t.house.outTradeNo}}),e("van-cell",{attrs:{title:"类型",value:t.house.type}}),e("van-cell",{attrs:{title:"金额",value:t.house.total}}),e("van-cell",{attrs:{title:"支付方式",value:t.house.operation}}),e("van-cell",{attrs:{title:"付款时间",value:t.house.payTime}})],1),t.mis.length>0?e("div",[e("van-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[e("van-collapse-item",{attrs:{title:"杂费信息",name:"1"}},t._l(t.mis,(function(s,a){return e("div",{key:a,staticClass:"cell"},[e("van-cell",{attrs:{title:s.baseName},scopedSlots:t._u([{key:"label",fn:function(){return[e("p",[t._v("价格："+t._s(s.price))]),e("p",[t._v("说明："+t._s(s.remark))])]},proxy:!0}],null,!0)})],1)})),0)],1)],1):t._e(),t.show?t._e():e("div",[e("van-collapse",{model:{value:t.activeMessage,callback:function(e){t.activeMessage=e},expression:"activeMessage"}},[e("van-collapse-item",{attrs:{title:"水电信息",name:"1"}},[e("div",{staticClass:"cell"},[e("van-cell",{attrs:{title:"用水信息"},scopedSlots:t._u([{key:"label",fn:function(){return[e("p",[t._v("用水量(方): "+t._s(t.message.numWater))]),e("p",[t._v("水费(元): "+t._s(t.message.costWater))]),e("p",[t._v("上传时间:"+t._s(t.message.uploadWater))])]},proxy:!0}],null,!1,2262495906)})],1),e("div",{staticClass:"cell"},[e("van-cell",{attrs:{title:"用电信息"},scopedSlots:t._u([{key:"label",fn:function(){return[e("p",[t._v("用电量(度):"+t._s(t.message.numElectric))]),e("p",[t._v("说明："+t._s(t.message.costElectric))]),e("p",[t._v("上传时间"+t._s(t.message.uploadElectric))])]},proxy:!0}],null,!1,421550021)})],1)])],1)],1),0==t.house.state?e("div",{staticStyle:{margin:"16px"}},[e("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"},on:{click:t.onSubmit}},[t._v("确 认 支 付")])],1):t._e()])])},l=[],n=s(48),i=s(676),r=s(9176),o={components:{Header:n.Z},created(){this.getUserOrderDetail()},data(){return{house:{},mis:[],message:{},activeNames:[],activeMessage:[],show:!1}},methods:{async getUserOrderDetail(){try{this.$toast.loading({duration:0,message:"加载中...",forbidClick:!0});const{data:t}=await(0,i.qt)({orderId:this.$route.params.id});this.house=t.house,t.mis&&(this.mis=t.mis),t.message&&(this.message=t.message),this.show=(0,r.k)(this.message),this.$toast.clear()}catch(t){console.log(t)}},async onSubmit(){try{const{data:t}=await(0,i.c6)({...this.house,subject:this.house.type,userId:this.$store.getters.userId});console.log(t);const e=window.open("","_target");e.document.write(t),e.focus(),this.$dialog.alert({message:"是否支付成功"}).then((()=>{this.getUserOrderDetail()}))}catch(t){console.log(t)}}}},c=o,u=s(1001),v=(0,u.Z)(c,a,l,!1,null,"25b9dde7",null),d=v.exports},676:function(t,e,s){s.d(e,{c6:function(){return i},co:function(){return l},qt:function(){return n}});var a=s(6361);function l(t){return(0,a.U2)("getUserOrder",t)}function n(t){return(0,a.U2)("getUserOrderDetail",t)}function i(t){return(0,a.v_)("pay",t)}},9176:function(t,e,s){function a(t){let e=!0;return Object.keys(t).forEach((function(s){null!==t[s]&&""!=t[s]&&(e=!1)})),e}s.d(e,{k:function(){return a}})}}]);
//# sourceMappingURL=231.d3f82490.js.map