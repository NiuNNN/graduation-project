"use strict";(self["webpackChunkpc_web"]=self["webpackChunkpc_web"]||[]).push([[538],{3538:function(t,n,e){e.r(n),e.d(n,{default:function(){return v}});var r=function(){var t=this,n=t._self._c;return n("div",{staticClass:"main-container"},[t._m(0),n("div",{staticClass:"bg"},[n("div",{staticClass:"collapse-container"},[n("el-collapse",{staticStyle:{"border-top":"none"},attrs:{accordion:""}},[n("el-collapse-item",{scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"collapse-title"},[n("span",[t._v("合 同 模 板")])])]},proxy:!0}])},[n("div",{staticClass:"bg-container"},[n("el-row",{attrs:{gutter:20}},t._l(t.baseData,(function(e,r){return n("el-col",{key:r,staticStyle:{"margin-bottom":"20px"},attrs:{type:"flex",justify:"space-around",span:3}},[n("pdf-card",{attrs:{contractObj:e,name:e.contractName},on:{preview:t.preview,del:t.del}})],1)})),1)],1)])],1)],1)]),n("div",{staticClass:"bg"},[n("div",{staticClass:"navbar"},[n("span",{class:{current:"rent"==t.isCurrent},on:{click:function(n){return t.change("rent")}}},[t._v("租 赁 合 同")]),n("span",{class:{current:"work"==t.isCurrent},on:{click:function(n){return t.change("work")}}},[t._v("劳 动 合 同")]),n("span",{class:{current:"lose"==t.isCurrent},on:{click:function(n){return t.change("lose")}}},[t._v("失 效 合 同")])]),n("div",{staticClass:"bg-container",staticStyle:{height:"520px"}},[t.Data.length>0?[n("el-row",{attrs:{gutter:20}},t._l(t.Data,(function(e,r){return n("el-col",{key:r,staticStyle:{"margin-bottom":"20px"},attrs:{type:"flex",justify:"space-around",span:3}},[n("pdf-card",{attrs:{contractObj:e,isShow:!1,name:e.url},on:{preview:t.preview,del:t.del}})],1)})),1)]:[n("el-empty",{attrs:{"image-size":200}})],n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{"current-page":t.pagination.currentPage,"page-size":t.pagination.pageSize,background:"",layout:"prev, pager, next",total:t.pagination.total},on:{"current-change":t.handleCurrentChange}})],1)],2)]),n("div",{staticClass:"dialog"},[n("el-dialog",{staticStyle:{"margin-top":"40px !important"},attrs:{title:"PDF预览",visible:t.dialogVisible,width:"70%","append-to-body":"",top:"","before-close":t.handleClose},on:{"update:visible":function(n){t.dialogVisible=n}}},[n("iframe",{staticStyle:{width:"100%",height:"500px"},attrs:{frameborder:"0",src:t.pdfSrc}})])],1)])},i=[function(){var t=this,n=t._self._c;return n("div",{staticClass:"header-container"},[n("h1",[t._v("合 同 管 理")])])}],a=function(){var t=this,n=t._self._c;return n("div",{staticStyle:{cursor:"pointer"},attrs:{disabled:t.isGet},on:{click:function(n){return t.preview()}}},[n("el-card",{attrs:{"body-style":{padding:"5px"},shadow:"hover"}},[n("img",{attrs:{src:e(1849)}}),n("div",[n("h3",[t._v(t._s(t.name))])])])],1)},s=[],o=e(6585),c=e(7278),u={props:{name:{type:String,default:"合同"},contractObj:{type:Object,default:function(){return{}}}},methods:{preview(){this.$emit("preview",`${c.Z}/view/Contract/${this.contractObj.url}`)},download(){this.$emit("download"),console.log("download")},del(){this.$emit("del"),console.log("del")}},computed:{isAdd(){return o.kL(this.$route.params.type)},isDel(){return o.bK(this.$route.params.type)},isUp(){return o.EN(this.$route.params.type)},isPull(){return o.kX(this.$route.params.type)},isEdit(){return o.mi(this.$route.params.type)},isGet(){return o.Xu(this.$route.params.type)}}},l=u,p=e(1001),d=(0,p.Z)(l,a,s,!1,null,"4fb02ba1",null),f=d.exports,g=e(3811),h={data(){return{dialogVisible:!1,pdfSrc:"",baseData:[],isCurrent:"rent",Data:[],pagination:{currentPage:1,pageSize:16,total:0}}},components:{PdfCard:f},created(){this.getBaseContract(),this.getAllContract()},methods:{change(t){this.isCurrent=t,this.getAllContract()},async getBaseContract(){try{const{data:t}=await(0,g.wR)();this.baseData=t}catch(t){console.log(t)}},preview(t){this.pdfSrc=t,this.dialogVisible=!0},del(){},handleClose(t){this.$confirm("确认关闭？").then((n=>{t()})).catch((t=>{}))},handleCurrentChange(t){this.pagination.currentPage=t,this.getAllContract()},async getAllContract(){try{const t=`${this.pagination.currentPage}/${this.pagination.pageSize}`,{data:n}=await(0,g.rt)(t,{state:this.state,kindId:this.kindId});this.Data=n.records,this.pagination.currentPage=n.current,this.pagination.total=n.total,this.pagination.pageSize=n.size}catch(t){console.log(t)}}},computed:{state(){return"lose"!=this.isCurrent?1:0},kindId(){let t="";return"work"===this.isCurrent&&(t=2),"rent"===this.isCurrent&&(t=1),"lose"===this.isCurrent&&(t=0),t}}},C=h,m=(0,p.Z)(C,r,i,!1,null,"6cc45386",null),v=m.exports},3811:function(t,n,e){e.d(n,{EF:function(){return c},Te:function(){return u},WD:function(){return l},ij:function(){return o},mm:function(){return s},pk:function(){return p},rt:function(){return a},wR:function(){return i}});var r=e(9312);function i(){return(0,r.U2)("getBaseContract",{})}function a(t,n){return(0,r.U2)(`selectContract/${t}`,n)}function s(t){return(0,r.v_)("writeRentContract",t)}function o(t){return(0,r.cd)("writeRentSign",t)}function c(t){return(0,r.U2)("changeContractStateByUserId",t)}function u(t){return(0,r.v_)("writeWorkContract",t)}function l(t){return(0,r.cd)("writeWorkSign",t)}function p(t){return(0,r.U2)("getContractByUserId",t)}},6585:function(t,n,e){function r(t){const n="1";return u(t,n)}function i(t){const n="2";return u(t,n)}function a(t){const n="3";return u(t,n)}function s(t){const n="4";return u(t,n)}function o(t){const n="5";return u(t,n)}function c(t){const n="6";return u(t,n)}function u(t,n){let e=t.split("").filter((t=>!isNaN(t)));return!e.includes(n)}e.d(n,{EN:function(){return a},Xu:function(){return c},bK:function(){return i},kL:function(){return r},kX:function(){return s},mi:function(){return o}})},1849:function(t,n,e){t.exports=e.p+"static/img/pdfImage.ea12441a.jpg"}}]);
//# sourceMappingURL=538.41be507d.js.map